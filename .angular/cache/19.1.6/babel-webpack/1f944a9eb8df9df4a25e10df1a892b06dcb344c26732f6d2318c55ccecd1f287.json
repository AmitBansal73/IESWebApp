{"ast":null,"code":"import { Location } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\nimport { CollegeService } from '../../../services/college.service';\nimport { StreamService } from '../../../services/stream.service';\nimport { FormsModule } from '@angular/forms';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../services/college.service\";\nimport * as i4 from \"../../../services/stream.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ng-select/ng-select\";\nfunction CollegeDetailsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h5\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.collegeDetails.CollegeName, \" \");\n  }\n}\nexport let CollegeDetailsComponent = /*#__PURE__*/(() => {\n  class CollegeDetailsComponent {\n    constructor(location, route, collegeService, streamService) {\n      this.location = location;\n      this.route = route;\n      this.collegeService = collegeService;\n      this.streamService = streamService;\n    }\n    ngOnInit() {\n      this.CollegeID = +this.route.snapshot.paramMap.get('CollegeID');\n      this.GetCollegeDetails(this.CollegeID);\n      this.GetStream();\n    }\n    GetStream() {\n      this.streamService.getstream().subscribe(st => this.streams = st);\n    }\n    GetCollegeDetails(collegeId) {\n      this.collegeService.getCollegeDetails(collegeId).subscribe(college => {\n        this.collegeDetails = college;\n        this.selectedStream = college.Streams;\n      });\n    }\n    Submit() {\n      let arr = [10, 20, 30, 40];\n      this.courses = [];\n      for (var val of this.selectedStream) {\n        this.tempCourse = {\n          CollegeID: this.CollegeID,\n          StreamID: val.StreamID\n        };\n        this.courses.push(this.tempCourse);\n      }\n      this.iescourse = {\n        courses: []\n      };\n      this.iescourse.courses = this.courses;\n      console.log(this.iescourse);\n      this.collegeService.updateStream(this.iescourse).subscribe(res => {\n        this.location.back();\n      });\n    }\n    Cancel() {\n      this.location.back();\n    }\n    static {\n      this.ɵfac = function CollegeDetailsComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || CollegeDetailsComponent)(i0.ɵɵdirectiveInject(i1.Location), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.CollegeService), i0.ɵɵdirectiveInject(i4.StreamService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CollegeDetailsComponent,\n        selectors: [[\"app-college-details\"]],\n        decls: 11,\n        vars: 4,\n        consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-3\"], [1, \"col-md-6\"], [4, \"ngIf\"], [\"id\", \"StreamID\", \"bindLabel\", \"StreamName\", 3, \"ngModelChange\", \"items\", \"multiple\", \"ngModel\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n        template: function CollegeDetailsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n            i0.ɵɵelement(2, \"div\", 2);\n            i0.ɵɵelementStart(3, \"div\", 3);\n            i0.ɵɵtemplate(4, CollegeDetailsComponent_div_4_Template, 3, 1, \"div\", 4);\n            i0.ɵɵelementStart(5, \"ng-select\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function CollegeDetailsComponent_Template_ng_select_ngModelChange_5_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.selectedStream, $event) || (ctx.selectedStream = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function CollegeDetailsComponent_Template_button_click_6_listener() {\n              return ctx.Submit();\n            });\n            i0.ɵɵtext(7, \"Submit\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function CollegeDetailsComponent_Template_button_click_8_listener() {\n              return ctx.Cancel();\n            });\n            i0.ɵɵtext(9, \"Cancel\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(10, \"div\", 2);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.collegeDetails);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"items\", ctx.streams)(\"multiple\", true);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedStream);\n          }\n        },\n        dependencies: [FormsModule, i5.NgControlStatus, i5.NgModel, NgSelectModule, i6.NgSelectComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return CollegeDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
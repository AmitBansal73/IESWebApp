{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { UniversityService } from '../../../services/university.service';\nimport { SubjectService } from '../../../services/subject.service';\nimport { CollegeService } from '../../../services/college.service';\nimport { StreamService } from '../../../services/stream.service';\nimport { SemesterService } from '../../../services/semester.service';\nimport { PaperService } from '../../../services/paper.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/university.service\";\nimport * as i2 from \"../../../services/college.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../../services/subject.service\";\nimport * as i5 from \"../../../services/semester.service\";\nimport * as i6 from \"../../../services/paper.service\";\nimport * as i7 from \"../../../services/stream.service\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@ng-select/ng-select\";\nexport let PaperNewComponent = /*#__PURE__*/(() => {\n  class PaperNewComponent {\n    constructor(universityService, collegeService, location, subjectService, semesterService, paperService, streamService) {\n      this.universityService = universityService;\n      this.collegeService = collegeService;\n      this.location = location;\n      this.subjectService = subjectService;\n      this.semesterService = semesterService;\n      this.paperService = paperService;\n      this.streamService = streamService;\n      this.added = new EventEmitter();\n      this.newPaper = {\n        PaperID: 0,\n        UniversityID: 0,\n        CollegeID: 0,\n        StreamID: 0,\n        SubjectID: 0,\n        SemID: 0,\n        Year: 0,\n        Cost: 0,\n        SubjectName: \"\",\n        CollegeName: \"\",\n        UniversityName: \"\",\n        StreamName: \"\",\n        SemesterName: \"\",\n        PaidAmount: 100,\n        PurchaseDate: \"\",\n        UserID: 0,\n        questioncount: 0\n      };\n    }\n    ngOnInit() {\n      this.getUniversities();\n      // this.getColleges();\n      this.getSubjects();\n      this.getSemesters();\n    }\n    getUniversities() {\n      this.universityService.getUniversities().subscribe(univer => {\n        this.universities = univer;\n      });\n    }\n    getColleges() {\n      this.collegeService.getCollege().subscribe(colleges => {\n        this.colleges = colleges;\n      });\n    }\n    GetCollegeForUniversity() {\n      this.collegeService.getCollegeByUniversity(this.selectedUniversity.UniversityID).subscribe(colleges => {\n        this.colleges = colleges;\n      });\n    }\n    GetStreamForCollege() {\n      this.streamService.getstreamForCollege(this.selectedCollege.CollegeID).subscribe(st => {\n        this.streams = st;\n        console.log(st);\n      });\n    }\n    getSubjects() {\n      this.subjectService.getSubject().subscribe(subject => {\n        this.subjects = subject;\n      });\n    }\n    getSemesters() {\n      this.semesterService.getSemester().subscribe(sem => {\n        this.semesters = sem;\n      });\n    }\n    AddPaper() {\n      this.newPaper.PaperID = 0;\n      this.newPaper.UniversityID = this.selectedUniversity.UniversityID;\n      this.newPaper.CollegeID = this.selectedCollege.CollegeID;\n      this.newPaper.StreamID = this.selectedStream.StreamID;\n      this.newPaper.SubjectID = this.selectedSubject.SubjectID;\n      this.newPaper.SemID = this.selectedSubject.SubjectID;\n      this.newPaper.Year = this.year;\n      this.newPaper.Cost = this.cost;\n      this.paperService.addPaper(this.newPaper).subscribe(_paper => {\n        this.location.back();\n      }, err => alert(\"error\"));\n    }\n    Cancel() {\n      this.location.back();\n    }\n    static {\n      this.ɵfac = function PaperNewComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PaperNewComponent)(i0.ɵɵdirectiveInject(i1.UniversityService), i0.ɵɵdirectiveInject(i2.CollegeService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.SubjectService), i0.ɵɵdirectiveInject(i5.SemesterService), i0.ɵɵdirectiveInject(i6.PaperService), i0.ɵɵdirectiveInject(i7.StreamService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PaperNewComponent,\n        selectors: [[\"app-paper-new\"]],\n        outputs: {\n          added: \"added\"\n        },\n        decls: 43,\n        vars: 12,\n        consts: [[1, \"heading\"], [1, \"NewForm\"], [1, \"form-row\"], [1, \"form-group\", \"form-element\"], [\"for\", \"universityName\"], [\"name\", \"Universities\", \"bindLabel\", \"UniversityName\", \"placeholder\", \"Select University\", 3, \"ngModelChange\", \"close\", \"items\", \"ngModel\"], [\"for\", \"college\"], [\"name\", \"College\", \"bindLabel\", \"CollegeName\", \"placeholder\", \"Select College\", 3, \"ngModelChange\", \"close\", \"items\", \"ngModel\"], [\"for\", \"Stream\"], [\"name\", \"Stream\", \"bindLabel\", \"StreamName\", \"placeholder\", \"Select Stream\", 3, \"ngModelChange\", \"items\", \"ngModel\"], [\"name\", \"Subject\", \"bindLabel\", \"SubjectName\", \"placeholder\", \"Select Subject\", 3, \"ngModelChange\", \"items\", \"ngModel\"], [\"for\", \"semester\"], [\"name\", \"Semester\", \"bindLabel\", \"SemesterName\", \"placeholder\", \"Select Semester\", 3, \"ngModelChange\", \"items\", \"ngModel\"], [\"for\", \"YearName\"], [\"name\", \"Year\", \"id\", \"YearName\", \"placeholder\", \"Year\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"Cost\", \"id\", \"PaperCost\", \"placeholder\", \"Cost of Qusetion Paper \", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"button-row\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"space\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n        template: function PaperNewComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n            i0.ɵɵtext(2, \" Add New Paper \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"form\")(5, \"fieldset\")(6, \"div\", 2)(7, \"div\", 3)(8, \"label\", 4);\n            i0.ɵɵtext(9, \"Select University\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"ng-select\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PaperNewComponent_Template_ng_select_ngModelChange_10_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.selectedUniversity, $event) || (ctx.selectedUniversity = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"close\", function PaperNewComponent_Template_ng_select_close_10_listener() {\n              return ctx.GetCollegeForUniversity();\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\", 6);\n            i0.ɵɵtext(13, \"Select College\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"ng-select\", 7);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PaperNewComponent_Template_ng_select_ngModelChange_14_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.selectedCollege, $event) || (ctx.selectedCollege = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"close\", function PaperNewComponent_Template_ng_select_close_14_listener() {\n              return ctx.GetStreamForCollege();\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(15, \"div\", 2)(16, \"div\", 3)(17, \"label\", 8);\n            i0.ɵɵtext(18, \"Select Stream\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"ng-select\", 9);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PaperNewComponent_Template_ng_select_ngModelChange_19_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.selectedStream, $event) || (ctx.selectedStream = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 3)(21, \"label\", 8);\n            i0.ɵɵtext(22, \"Select Subject\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"ng-select\", 10);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PaperNewComponent_Template_ng_select_ngModelChange_23_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.selectedSubject, $event) || (ctx.selectedSubject = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(24, \"div\", 2)(25, \"div\", 3)(26, \"label\", 11);\n            i0.ɵɵtext(27, \"Select Semester\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"ng-select\", 12);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PaperNewComponent_Template_ng_select_ngModelChange_28_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.selectedSemester, $event) || (ctx.selectedSemester = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(29, \"div\", 3)(30, \"label\", 13);\n            i0.ɵɵtext(31, \"Write Year here\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"input\", 14);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PaperNewComponent_Template_input_ngModelChange_32_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.year, $event) || (ctx.year = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(33, \"div\", 2)(34, \"div\", 3)(35, \"label\", 13);\n            i0.ɵɵtext(36, \"Cost of Qusetion Paper \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"input\", 15);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PaperNewComponent_Template_input_ngModelChange_37_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.cost, $event) || (ctx.cost = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(38, \"div\", 16)(39, \"button\", 17);\n            i0.ɵɵlistener(\"click\", function PaperNewComponent_Template_button_click_39_listener() {\n              return ctx.Cancel();\n            });\n            i0.ɵɵtext(40, \"Cancel\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"button\", 18);\n            i0.ɵɵlistener(\"click\", function PaperNewComponent_Template_button_click_41_listener() {\n              return ctx.AddPaper();\n            });\n            i0.ɵɵtext(42, \"Submit\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"items\", ctx.universities);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedUniversity);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"items\", ctx.colleges);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedCollege);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"items\", ctx.streams);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedStream);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"items\", ctx.subjects);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedSubject);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"items\", ctx.semesters);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedSemester);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.year);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.cost);\n          }\n        },\n        dependencies: [FormsModule, i8.ɵNgNoValidate, i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgControlStatusGroup, i8.NgModel, i8.NgForm, NgSelectModule, i9.NgSelectComponent],\n        styles: [\".space[_ngcontent-%COMP%]{margin-right:1em}h4[_ngcontent-%COMP%]{display:inline-block;padding-top:20px;margin-left:.7em}.heading[_ngcontent-%COMP%]{width:400px;margin:auto}\"]\n      });\n    }\n  }\n  return PaperNewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}